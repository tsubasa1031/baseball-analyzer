import streamlit as st

# ----------------------------------------------------------------------
# 0. ページ設定 (最優先)
# ----------------------------------------------------------------------
st.set_page_config(
    page_title="動作テストアプリ",
    layout="wide",
)

# ----------------------------------------------------------------------
# 1. メイン画面の表示
# ----------------------------------------------------------------------
st.title("Streamlit 動作確認アプリ")
st.success("🎉 アプリが起動しました！")
st.write("Streamlitは正常に動作しています。")

# ----------------------------------------------------------------------
# 2. 入力とボタンのテスト
# ----------------------------------------------------------------------
st.sidebar.header("テストフォーム")

user_input = st.sidebar.text_input("名前を入力してください", value="テストユーザー")

if st.sidebar.button("挨拶を表示"):
    st.info(f"こんにちは、{user_input}さん！ボタン操作もOKです。")
else:
    st.info("ボタンを押して操作をテストしてください。")

# ----------------------------------------------------------------------
# 3. グラフ描画機能のテスト (Matplotlib非依存)
# ----------------------------------------------------------------------
st.subheader("グラフ機能のテスト")
st.bar_chart({"Data": [10, 20, 5, 30, 15]})

# ----------------------------------------------------------------------
# 4. 最終メッセージ
# ----------------------------------------------------------------------
st.markdown("---")
st.caption("この画面が表示されていれば、環境設定に問題はありません。元の野球分析コードのエラーは、ライブラリの呼び出し方やデータ処理のロジックにあります。")
